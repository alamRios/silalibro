<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="../WEB-INF/layout.xhtml"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <f:metadata>
            <f:viewAction action="#{userBean.validarUsuarioLogueado}" />
        </f:metadata>
    <ui:define name="header">
    </ui:define>
    <ui:define name="jquery">
    </ui:define>
    <ui:define name="logo">
        <ui:fragment rendered="#{!userBean.usuario.administrador}">
            <a class="navbar-brand" 
               href="#{facesContext.externalContext.requestContextPath}/index.xhtml">
                <h:graphicImage width="200" value="../images/SilalibroLogo_blanco.png" />
            </a>
        </ui:fragment>
        <ui:fragment rendered="#{userBean.usuario.administrador}">
            <a class="navbar-brand" 
               href="#{facesContext.externalContext.requestContextPath}/administrador/index.xhtml">
                <h:graphicImage width="200" value="../images/SilalibroLogo_blanco.png" />
            </a>
        </ui:fragment>
    </ui:define>
    <ui:define name="uilogin">
        <br />
        <br />
        <h:commandButton value="Cerrar sesión" class="btn btn-outline-danger float-right" action="#{userBean.cerrarSesion}"/>
    </ui:define>
    <ui:define name="content">
        <div class="row">
            <div class="col">
                <a class="float-sm-right btn btn-outline-info" href="movimientos.xhtml"> Movimientos de saldo <i class="fa fa-usd" aria-hidden="true"></i></a>
            </div>
        </div>
        <br/>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item active" aria-current="page">Mi cuenta</li>
            </ol>
        </nav>
        <h:form>
            <div class="row bg-registro">
                <div class="col-xs-12 col-sm-12 col-md-6">
                    <h3 class="text-center my-3">Datos de la cuenta</h3>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Nombre:" class="control-label col-sm-2" for="nombre"/>
                        <h:inputText id="nombre" class="form-control col-sm-9 offset-sm-1" 
                                     value="#{userBean.usuario.nombre}" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Apellido:" class="control-label col-sm-2" for="apellido"/>
                        <h:inputText id="apellido" class="form-control col-sm-9 offset-sm-1" 
                                     value="#{userBean.usuario.apellidoPaterno} #{userBean.usuario.apellidoMaterno}" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Email:" class="control-label col-sm-2" for="email"/>
                        <h:inputText id="email" class="form-control col-sm-9 offset-sm-1" 
                                     value="#{userBean.usuario.email}" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Contraseña:" class="control-label col-sm-2" for="contraseña"/>
                        <h:inputSecret id="contraseña" class="form-control col-sm-9 offset-sm-1" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Confirmar contraseña:" class="control-label col-sm-2" for="confcontra"/>
                        <h:inputSecret id="confcontra" class="form-control col-sm-9 offset-sm-1" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel class="control-label col-sm-2" for="txtFechaNac" value="Fecha Nacimiento:" />
                        <p:calendar class="form-control col-sm-9 offset-sm-1" 
                                    id="txtFechaNac" value="#{userBean.usuario.fechaNacimiento}"/>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-6">
                    <h3 class="text-center my-3">Datos de contacto</h3>
                    <div class="form-group form-inline col-sm-12 col-md-12">
                        <h:outputLabel value="Calle:" class="control-label col-sm-4" for="calle"/>
                        <h:inputText id="calle" class="form-control col-sm-7 offset-sm-1" 
                                     value="#{userBean.usuario.direccion.calle}" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Número exterior:" class="control-label col-sm-4" for="numext"/>
                        <h:inputText id="numext" class="form-control col-sm-7 offset-sm-1" 
                                     value="#{userBean.usuario.direccion.numeroExterior}" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Número interior:" class="control-label col-sm-4" for="numint"/>
                        <h:inputText id="numint" class="form-control col-sm-7 offset-sm-1"
                                     value="#{userBean.usuario.direccion.numeroInterior}"/>
                    </div>

                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Código postal:" class="control-label col-sm-4" for="postal"/>
                        <h:inputText id="postal" class="form-control col-sm-7 offset-sm-1" 
                                     value="#{userBean.usuario.direccion.CP}" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Colonia:" class="control-label col-sm-4" for="colonia"/>
                        <h:inputText id="colonia" class="form-control col-sm-7 offset-sm-1" 
                                     value="#{userBean.usuario.direccion.colonia}" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Municipio/Alcaldía:" class="control-label col-sm-4" for="municipio"/>
                        <h:inputText id="municipio" class="form-control col-sm-7 offset-sm-1" 
                                     value="#{userBean.usuario.direccion.municipio}" required="true"/>
                    </div>
                    <div class="form-group form-inline col-md-12">
                        <h:outputLabel value="Estado:" class="control-label col-sm-4" for="estado"/>
                        <h:inputText id="estado" class="form-control col-sm-7 offset-sm-1" 
                                     value="#{userBean.usuario.direccion.estado}" required="true"/>
                    </div>
                </div>
                <div class="clearfix visible-md-block"></div>
            </div>
            <br/>
            <div class="row">
                <div class="mx-auto">
                    <h:commandButton value="Guardar" class="btn btn-info"/>
                </div>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
